/* Focus visibility */
::where(button, a, input, select, textarea):focus-visible {
    outline: none;
    box-shadow:
        0 0 0 2px color-mix(in oklab, var(--cosmo-accent-2) 28%, transparent),
        0 0 0 4px color-mix(in oklab, var(--cosmo-accent-2) 14%, transparent);
    border-radius: 10px;
}

/* Motion respect */
@media (prefers-reduced-motion: reduce) {
    * { transition: none !important; animation: none !important; }
}

/* Tighter halo for icon buttons only */
button[data-testid*="-button"]:focus-visible{
    box-shadow:
        0 0 0 2px color-mix(in oklab, var(--cosmo-accent-2) 22%, transparent),
        0 0 0 3px color-mix(in oklab, var(--cosmo-accent-2) 10%, transparent);
    border-radius: 12px;
}

/* Slightly brighter halos on warm palettes */
html[data-cosmo-theme="sakura"] ::where(button, a, input, select, textarea):focus-visible,
html[data-cosmo-theme="sunset"] ::where(button, a, input, select, textarea):focus-visible {
    box-shadow:
        0 0 0 2px color-mix(in oklab, var(--cosmo-accent-2) 32%, transparent),
        0 0 0 4px color-mix(in oklab, var(--cosmo-accent-2) 18%, transparent);
}

/* Reduce Transparency: disable heavy canvas overlays */
html[data-cosmo-reduce-transparency].dark::after { display: none !important; }
html[data-cosmo-reduce-transparency].dark::before {
    opacity: .10 !important;
    mix-blend-mode: normal !important;
}

