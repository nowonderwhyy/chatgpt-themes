/* Contrast variant tweaks */
html[data-cosmo-theme="contrast"] #page-header,
html[data-cosmo-theme="contrast"] #stage-sidebar-tiny-bar,
html[data-cosmo-theme="contrast"] .bg-token-sidebar-surface-primary,
html[data-cosmo-theme="contrast"] [class*="bg-token-sidebar-surface-"] {
    background: var(--cosmo-card) !important;
}

/* --- Mocha fine-tuning for long reads --- */
html.dark[data-cosmo-theme="mocha"]::after{
    background:
        radial-gradient(60% 45% at 115% 115%, rgba(0,0,0,.30), transparent 62%),
        radial-gradient(90% 70% at 50% 120%, rgba(32,24,19,.24), transparent 60%),
        radial-gradient(50% 40% at 50% -10%, rgba(245,236,224,.05), transparent 60%);
    opacity: .9;
}

/* Mocha adjustments */
html[data-cosmo-theme="mocha"] * { scrollbar-color: #7a6a5a transparent; }
html[data-cosmo-theme="mocha"] ::selection { background: rgba(240, 225, 207, .35); color: #2a1e17; }
html[data-cosmo-theme="mocha"] #thread { line-height: 1.65; }

/* Sepia-tinted code surfaces */
html[data-cosmo-theme="mocha"] #thread pre {
    background: rgba(32,24,19,.72);
    border-color: color-mix(in oklab, var(--cosmo-border) 65%, transparent);
}
html[data-cosmo-theme="mocha"] #thread code:not(pre code) {
    background: rgba(245,236,224,.10);
    border-color: color-mix(in oklab, var(--cosmo-border) 55%, transparent);
}

/* Link and quote polish */
html[data-cosmo-theme="mocha"] #thread a {
    color: color-mix(in oklab, var(--cosmo-accent-1) 78%, #ffffff 22%);
    text-decoration-color: color-mix(in oklab, var(--cosmo-accent-1) 55%, transparent);
}
html[data-cosmo-theme="mocha"] #thread a:hover {
    text-decoration-color: color-mix(in oklab, var(--cosmo-accent-1) 85%, transparent);
}
html[data-cosmo-theme="mocha"] #thread blockquote {
    background: rgba(245,236,224,.05);
    border-left: 3px solid color-mix(in oklab, var(--cosmo-accent-1) 35%, transparent);
}

/* Gentle typography for body text */
html[data-cosmo-theme="mocha"] #thread p,
html[data-cosmo-theme="mocha"] #thread li {
    letter-spacing: .003em;
    hyphens: auto;
}

